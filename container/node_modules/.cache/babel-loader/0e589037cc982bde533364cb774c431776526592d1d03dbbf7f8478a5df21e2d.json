{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VenkataLakshmiNaraya\\\\reactpractice\\\\July-24\\\\microfrontend-react\\\\container\\\\src\\\\MicroFrontend.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MicroFrontend extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.renderMicroFrontend = () => {\n      const {\n        name,\n        window,\n        history\n      } = this.props;\n      window[`render${name}`] && window[`render${name}`](`${name}-container`, history);\n    };\n  }\n  componentDidMount() {\n    const {\n      name,\n      host,\n      document\n    } = this.props;\n    const scriptId = `micro-frontend-script-${name}`;\n    if (document.getElementById(scriptId)) {\n      this.renderMicroFrontend();\n      return;\n    }\n    fetch(`${host}/asset-manifest.json`).then(res => res.json()).then(manifest => {\n      manifest[\"entrypoints\"].map(entry => {\n        if (typeof manifest[\"files\"][entry] !== \"undefined\" && manifest[\"files\"][entry] !== \"undefined\") {\n          if (entry.endsWith('.css')) {\n            const link = document.createElement('link');\n            link.id = scriptId;\n            link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\n            link.onload = this.renderMicroFrontend;\n            link.rel = \"stylesheet\";\n            document.head.appendChild(link);\n          }\n          const script = document.createElement('script');\n          script.id = scriptId;\n          script.crossOrigin = '';\n          script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\n          script.onload = this.renderMicroFrontend;\n          document.head.appendChild(script);\n        }\n      });\n      const script = document.createElement('script');\n      script.id = scriptId;\n      script.crossOrigin = '';\n      script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.js\"]}`;\n      script.onload = this.renderMicroFrontend;\n      document.head.appendChild(script);\n      const link = document.createElement('link');\n      link.id = scriptId;\n      link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.css\"]}`;\n      link.onload = this.renderMicroFrontend;\n      link.rel = \"stylesheet\";\n      document.head.appendChild(link);\n    });\n  }\n  componentWillUnmount() {\n    const {\n      name,\n      window\n    } = this.props;\n    window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      id: `${this.props.name}-container`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n}\nMicroFrontend.defaultProps = {\n  document,\n  window\n};\nexport default MicroFrontend;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","MicroFrontend","Component","constructor","args","renderMicroFrontend","name","window","history","props","componentDidMount","host","document","scriptId","getElementById","fetch","then","res","json","manifest","map","entry","endsWith","link","createElement","id","href","process","env","NODE_ENV","slice","lastIndexOf","onload","rel","head","appendChild","script","crossOrigin","src","componentWillUnmount","render","fileName","_jsxFileName","lineNumber","columnNumber","defaultProps"],"sources":["C:/Users/VenkataLakshmiNaraya/reactpractice/July-24/microfrontend-react/container/src/MicroFrontend.js"],"sourcesContent":["import React from 'react';\r\n\r\nclass MicroFrontend extends React.Component {\r\n  componentDidMount() {\r\n    const { name, host, document } = this.props;\r\n    const scriptId = `micro-frontend-script-${name}`;\r\n\r\n    if (document.getElementById(scriptId)) {\r\n      this.renderMicroFrontend();\r\n      return;\r\n    }\r\n\r\n    fetch(`${host}/asset-manifest.json`)\r\n      .then(res => res.json())\r\n      .then(manifest => {\r\n        manifest[\"entrypoints\"].map((entry => {\r\n          if (typeof manifest[\"files\"][entry] !== \"undefined\" && manifest[\"files\"][entry] !== \"undefined\") {\r\n            if (entry.endsWith('.css')) {\r\n              const link = document.createElement('link');\r\n              link.id = scriptId;\r\n              link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\r\n              link.onload = this.renderMicroFrontend;\r\n              link.rel = \"stylesheet\"\r\n              document.head.appendChild(link);\r\n            }\r\n            const script = document.createElement('script');\r\n            script.id = scriptId;\r\n            script.crossOrigin = '';\r\n            script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\r\n            script.onload = this.renderMicroFrontend;\r\n            document.head.appendChild(script);\r\n          }\r\n        })\r\n        )\r\n        const script = document.createElement('script');\r\n        script.id = scriptId;\r\n        script.crossOrigin = '';\r\n        script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.js\"]}`;\r\n        script.onload = this.renderMicroFrontend;\r\n        document.head.appendChild(script);\r\n        const link = document.createElement('link');\r\n        link.id = scriptId;\r\n        link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.css\"]}`;\r\n        link.onload = this.renderMicroFrontend;\r\n        link.rel = \"stylesheet\"\r\n        document.head.appendChild(link);\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { name, window } = this.props;\r\n\r\n    window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\r\n  }\r\n\r\n  renderMicroFrontend = () => {\r\n    const { name, window, history } = this.props;\r\n\r\n    window[`render${name}`] && window[`render${name}`](`${name}-container`, history);\r\n  };\r\n\r\n  render() {\r\n    return <main id={`${this.props.name}-container`} />;\r\n  }\r\n}\r\n\r\nMicroFrontend.defaultProps = {\r\n  document,\r\n  window,\r\n};\r\n\r\nexport default MicroFrontend;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}